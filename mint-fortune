#!/bin/bash

function show_fortune {
    RANGE=79
    number=$RANDOM
    let "number %= $RANGE"
    case $number in
      0)
        cow=ackbar
        ;;
      1)
        cow=aperture
        ;;
      2)
        cow=aperture-blank
        ;;
      3)
        cow=atat
        ;;
      4)
        cow=atom
        ;;
      5)
        cow=awesome-face
        ;;
      6)
        cow=banana
        ;;
      7)
        cow=bees
        ;;
      8)
        cow=bill-the-cat
        ;;
      9)
        cow=biohazard
        ;;
      10)
        cow=bishop
        ;;
      11)
        cow=black-mesa
        ;;
      12)
        cow=box
        ;;
      13)
        cow=broken-heart
        ;;
      14)
        cow=C3PO
        ;;
      15)
        cow=cake
        ;;
      16)
        cow=cake-with-candles
        ;;
      17)
        cow=cat
        ;;
      18)
        cow=chessmen
        ;;
      19)
        cow=claw-arm
        ;;
      20)
        cow=clippy
        ;;
      21)
        cow=companion-cube
        ;;
      22)
        cow=cube
        ;;
      23)
        cow=dalek
        ;;
      24)
        cow=dalek-shooting
        ;;
      25)
        cow=dolphin
        ;;
      26)
        cow=elephant2
        ;;
      27)
        cow=err
        ;;
      28)
        cow=explosion
        ;;
      29)
        cow=fat-banana
        ;;
      30)
        cow=fat-cow
        ;;
      31)
        cow=fire
        ;;
      32)
        cow=fox
        ;;
      33)
        cow=glados
        ;;
      34)
        cow=golden-eagle
        ;;
      35)
        cow=happy-whale
        ;;
      36)
        cow=homer
        ;;
      37)
        cow=ignignokt
        ;;
      38)
        cow=jellyfish
        ;;
      39)
        cow=kilroy
        ;;
      40)
        cow=king
        ;;
      41)
        cow=kitten
        ;;
      42)
        cow=knight
        ;;
      43)
        cow=lightbulb
        ;;
      44)
        cow=lobster
        ;;
      45)
        cow=lollerskates
        ;;
      46)
        cow=mailchimp
        ;;
      47)
        cow=maze-runner
        ;;
      48)
        cow=mona-lisa
        ;;
      49)
        cow=mooninites
        ;;
      50)
        cow=mule
        ;;
      51)
        cow=nyan
        ;;
      52)
        cow=octopus
        ;;
      53)
        cow=pawn
        ;;
      54)
        cow=periodic-table
        ;;
      55)
        cow=personality-sphere
        ;;
      56)
        cow=pinball-machine
        ;;
      57)
        cow=pterodactyl
        ;;
      58)
        cow=queen
        ;;
      59)
        cow=R2-D2
        ;;
      60)
        cow=radio
        ;;
      61)
        cow=robot
        ;;
      62)
        cow=robotfindskitten
        ;;
      63)
        cow=roflcopter
        ;;
      64)
        cow=rook
        ;;
      65)
        cow=seahorse
        ;;
      66)
        cow=seahorse-big
        ;;
      67)
        cow=smiling-octopus
        ;;
      68)
        cow=sudowoodo
        ;;
      69)
        cow=taxi
        ;;
      70)
        cow=template
        ;;
      71)
        cow=threecubes
        ;;
      72)
        cow=toaster
        ;;
      73)
        cow=tortoise
        ;;
      74)
        cow=tux-big
        ;;
      75)
        cow=tweety-bird
        ;;
      76)
        cow=USA
        ;;
      77)
        cow=weeping-angel
        ;;
      78)
        cow=whale
        ;;
      79)
        cow=world
        ;;
    esac

    RANGE=2
    number=$RANDOM
    let "number %= $RANGE"
    case $number in
        0)
            command="/usr/games/cowsay"
            ;;
        1)
            command="/usr/games/cowthink"
            ;;
    esac
    /usr/games/fortune | $command -f $cow
}

showfortunes=`gsettings get com.linuxmint.terminal show-fortunes 2>/dev/null`
if [ "$showfortunes" == "true" ] && [ -x "/usr/games/fortune" ] && [ -x "/usr/games/cowsay" ]; then
    show_fortune
fi
